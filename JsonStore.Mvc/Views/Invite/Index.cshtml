
@{
    Layout = null;
}

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Login</title>
    <!-- Bootstrap -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" />
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="http://destinationsafrica.com/js/toastr/toastr.min.css" />
    <link href="css/gds_style.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/multiple-select/1.2.0/multiple-select.min.css" />
    <link href="~/Content/generics.css" rel="stylesheet" />
    <link rel="shortcut icon" href='http://www.wakanow.com/en-ae/favicon.ico' />
    <link rel="apple-touch-icon" sizes="57x57" href="http://static.wakanow.com/common/favicon/apple-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="http://static.wakanow.com/common/favicon/apple-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="http://static.wakanow.com/common/favicon/apple-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="http://static.wakanow.com/common/favicon/apple-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="http://static.wakanow.com/common/favicon/apple-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="http://static.wakanow.com/common/favicon/apple-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="http://static.wakanow.com/common/favicon/apple-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="http://static.wakanow.com/common/favicon/apple-icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="http://static.wakanow.com/common/favicon/apple-icon-180x180.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="http://static.wakanow.com/common/favicon/android-icon-192x192.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="http://static.wakanow.com/common/favicon/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="96x96" href="http://static.wakanow.com/common/favicon/favicon-96x96.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="http://static.wakanow.com/common/favicon/favicon-16x16.png" />
    <link rel="manifest" href="http://static.wakanow.com/common/favicon/manifest.json" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="msapplication-TileImage" content="http://static.wakanow.com/common/favicon/ms-icon-144x144.png" />
    <meta name="theme-color" content="#ffffff" />

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <script src="http://cdn.ckeditor.com/4.5.3/basic/ckeditor.js"></script>
    <style>
        label {
            font-weight: normal;
        }

        body {
            background-color: #EEE;
        }
    </style>
</head>
<body>
    <form id="form1">
        <div>
            <div class="container">
                <div class="card card-container">
                    <div class="row">
                        <div class="col-xs-12 text-center">
                            <p style="margin-top:50px;">
                                <a href="/">
                                    <img src="http://static.wakanow.com/en-ng/hotels/img/logo.png" alt="Wakanow Logo" />
                                </a>
                            </p>
                            <div id="emailSuccess" class="login-form no-display">
                                <img src="~/Mail/General/images/case.png" alt="Brief Case" style="-ms-interpolation-mode:bicubic;clear:both;display:inline-block;float:none;max-width:100%;outline:0;text-decoration:none;width:30%" />
                                <p class="text-center color-green">

                                </p>
                            </div>
                            <div id="emailEntry" class="login-form">
                                <h4>Press and Media</h4>
                                <hr />
                                <div class="form-group">
                                    <label class="required">Enter your Email Address</label>
                                    <input id="email" placeholder="Email Address" class="form-control" type="text" onkeyup="doEmail(this)" />
                                </div>
                                <button id="btn_login" class="btn btn-link orange-back btn-block" onclick="return false;">Create New Invitation</button>
                                <br />

                                <a href="~/invite/login">Login with Email and Password</a>
                            </div>
                            <div class="container" style="padding-top:0px;">
                                <div class="card card-container" style="padding:10px 40px;">
                                    <p style="text-align: center;">

                                    </p>
                                    <p style="text-align: center;">
                                        <a href="~/" style="padding:5px; font-size:16px;" class="btn btn-lg btn-primary btn-block btn-signin">
                                            Back to Website
                                        </a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" type="text/javascript"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/multiple-select/1.2.0/multiple-select.min.js"></script>
    <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.1.2/toastr.min.js" type="text/javascript"></script>
    <script src="http://static.wakanow.com/common/general/js/all.js" type="text/javascript"></script>

    <script>
        function url(f) {
            return "@Extensions.Models.Site.GetLeftUrl()" + f;
        }

        function errorhandler(err, obj) {
            console.error(err, obj);
        }

        function MsgBox(txt, type) {
            txt = txt || "Wakanow";
            type = type || "success";
            toastr[type](txt);
        }

        toastr.options = {
            "closeButton": true,
            "debug": false,
            "newestOnTop": false,
            "progressBar": false,
            "positionClass": "toast-top-right",
            "preventDuplicates": false,
            "onclick": null,
            "showDuration": "10000",
            "hideDuration": "1000",
            "timeOut": "5000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
        }

        $("#btn_login").click(function () {
            if ($("#email").val().search(/.+@@wakanow\.com/i) < 0) {
                MsgBox("Email must be within the wakanow domain", "error");
                doc.setError(doc.get("email"));
            }
            else {
                $.post(url("invite/create"), { email: $("#email").val() }).success(function (response) {
                    console.log(response);
                    MsgBox(response.Message, response.Status ? 'success' : 'error');
                    $("#email").val("");
                    if (response.Status == true) {
                        $("#emailSuccess").show();
                        $("#emailEntry").hide();
                        $("#emailSuccess p").text(response.Message);
                    }
                }).error(errorhandler);
            }
        });
    </script>
</body>
</html>
